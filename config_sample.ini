; create_records.ini
; Configuration globale pour create_records.py

[general]
; Environnement Alma par défaut : S = sandbox, P = prod
env = S

; Code de l'institution / zone Alma (IzBib)
institution_code = HPH

; Validation XSD activée par défaut ? (true/false)
check_xsd = false

; Skip SRU check before creating records ? (true/false)
skip_sru_check = false

; Préfixe des rapports CSV (le script ajoute la date)
report_prefix = rapport_

; Niveau de log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
log_level = DEBUG

[infoscience]
; Nombre de résultats par page (spc.rpp)
spc_rpp = 100

; Format de sortie Infoscience (xm recommandé pour pymarc)
of_format = xm

; Stratégie de date (pour l'instant seulement "previous_month" est implémenté)
since_strategy = previous_month

[xsd]
; Chemins vers les schémas XSD
marc21 = xsd/MARC21slim.xsd
bib    = xsd/rest_bib.xsd
holding = xsd/rest_holding.xsd
item   = xsd/rest_item.xsd

[holding]
; Code de la bibliothèque Alma (852$b)
library_code = hph_bjnbecip

; Liste des localisations Alma (852$c), séparées par des virgules
locations = E02XA,E02SP

; Préfixe de la cote (852$j)
call_number_prefix = ZTK

[item]
; Numéro de ligne de commande (PO Line), laisser vide si N/A
po_line = 

; Type de work order (AcqWorkOrder, RepairWorkOrder, etc.)
work_order_type = AcqWorkOrder

; Département de travail (work order)
department_code = AcqDepthph_bjnbecip

; Type de matériel (PhysicalMaterialType)
material_type_code = THESIS

; ------------------------------------------------------------------------------
; Configuration pour l’envoi des rapports par mail (send_thesis_report.sh)
; ------------------------------------------------------------------------------
[report]
; Dossier de sortie des rapports CSV (relatif au BASE_DIR du projet)
output_dir = repports

; Modèle de nom de fichier (le script bash peut s’en servir)
; Variables possibles (bash): {date}, {prefix}
filename_template = {prefix}{date}.csv

[mail]
; SMTP server (host:port)
smtp_server = smtp.example.org:25

; Sender address
from = noreply@example.org

; Standard recipient (successful run)
to_standard = reports@example.org
cc_standard = cc_reports@example.org

; Error recipient (alerts)
to_error = it-alerts@example.org

; Sujets (variables possibles (bash): {date})
subject_ok  = EPFL Thesis Report - {date}
subject_err = EPFL Error detected - {date}

; Activer TLS (true/false) – à utiliser seulement si nécessaire côté serveur
tls = false

; Auth SMTP (laisser vide si non requis)
; IMPORTANT: éviter de versionner un mot de passe ici si le repo est public.
smtp_user =
smtp_pass_env = SMTP_PASS

[bash]
; Nom du virtualenv (informatif si tu utilises virtualenvwrapper)
venv_name = infoscience-thesis-to-alma

; Chemin du Python dans le venv (recommandé pour cron).
; Relatif au HOME ou absolu selon ton déploiement.
python_bin = ~/.virtualenvs/infoscience-thesis-to-alma/bin/python

; Chemin relatif/absolu du fichier d’erreur produit par le pipeline
error_file = errors.log

; Paramètres supplémentaires pour le script Python (optionnel)
; Exemple: --max-records 1 --dry-run
python_extra_args =
